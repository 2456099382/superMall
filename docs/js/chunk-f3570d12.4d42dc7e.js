(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3570d12"],{"0260":function(t,e,s){"use strict";s("ff40")},"0ebe":function(t,e,s){},"159b":function(t,e,s){var i=s("da84"),n=s("fdbc"),a=s("17c2"),o=s("9112");for(var c in n){var r=i[c],l=r&&r.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(f){l.forEach=a}}},"17c2":function(t,e,s){"use strict";var i=s("b727").forEach,n=s("a640"),a=n("forEach");t.exports=a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"1faf":function(t,e,s){"use strict";s("368f")},"30d7":function(t,e,s){"use strict";s("3d59")},"368f":function(t,e,s){},"3d59":function(t,e,s){},4073:function(t,e,s){"use strict";s("aeaf")},"52e5":function(t,e,s){"use strict";s("0ebe")},6663:function(t,e,s){},"6ab7":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail"}},[s("detail-nav-bar",{ref:"titleBar",staticClass:"detail-bar",on:{titleClick:t.titleClick}}),s("scroll",{ref:"scroll",attrs:{probeType:3,pullUpLoad:!0,bottom:"49px"},on:{scroll:t.scrolling}},[s("detail-swiper",{attrs:{topImgs:t.topImages}}),s("detail-base-info",{attrs:{goods:t.goods}}),s("detail-shop-info",{attrs:{shopInfo:t.business}}),s("detail-info",{attrs:{detailInfo:t.detailInfo},on:{detailImgLoad:t.detailImgLoad}}),s("detail-params-info",{ref:"params",attrs:{detailParamsInfo:t.itemParams}}),s("detail-comment-info",{ref:"comment",attrs:{commentInfo:t.commentInfo}}),s("detail-recommend-info",{ref:"recommend",attrs:{recommendInfo:t.recommendInfo}})],1),s("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isBackTopShow,expression:"isBackTopShow"}],nativeOn:{click:function(e){return t.backTop(e)}}}),s("detail-bottom-bar",{on:{addCart:t.addToCart}})],1)},n=[],a=(s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-swiper"},[t.isShow?s("swiper",t._l(t.topImgs,(function(t,e){return s("swiper-item",{key:e},[s("img",{attrs:{src:t,alt:""}})])})),1):s("img",{staticClass:"img",attrs:{src:t.topImgs[0],alt:""}})],1)}),o=[],c=s("dc2c"),r={name:"DetailSwiper",props:{topImgs:{type:Array,default:function(){return[]}}},components:{Swiper:c["a"],SwiperItem:c["b"]},computed:{isShow:function(){var t=this.topImgs.length>1;return t}}},l=r,f=(s("30d7"),s("2877")),u=Object(f["a"])(l,a,o,!1,null,"86f22ade",null),d=u.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-base-info"},[s("div",{staticClass:"desc"},[s("h3",[t._v(t._s(t.goods.title))])]),s("div",{staticClass:"sell"},[s("div",{staticClass:"price-container"},[s("span",{staticClass:"price"},[t._v(t._s(t.goods.newPrice))]),s("span",{staticClass:"old-price"},[t._v(t._s(t.goods.oldPrice))]),s("span",{staticClass:"hot"},[t._v("火热促销")])]),s("div",{staticClass:"sell-num"},t._l(t.goods.columns,(function(e,i){return s("span",{key:i},[t._v(t._s(e))])})),0)]),s("div",{staticClass:"service"},t._l(t.goods.service,(function(e,i){return s("div",{directives:[{name:"show",rawName:"v-show",value:i!==t.goods.service.length-1&&e.icon,expression:"index !== goods.service.length - 1 && item.icon"}],key:i},[s("img",{attrs:{src:e.icon,alt:""}}),t._v(" "+t._s(e.name)+" ")])})),0)])},h=[],v={name:"DetailBaseInfo",props:{goods:{type:Object,default:function(){return{}}}},computed:{serviceLength:function(){}}},p=v,_=(s("77e1"),Object(f["a"])(p,m,h,!1,null,"73133542",null)),b=_.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-shop-info"},[s("div",{staticClass:"business"},[s("img",{attrs:{src:t.shopInfo.logo,alt:""}}),s("h3",[t._v(t._s(t.shopInfo.name))])]),s("div",{staticClass:"container"},[s("div",{staticClass:"shop-left"},[s("div",{staticClass:"count"},[s("div",{staticClass:"num"},[t._v(t._s(t._f("simple")(t.shopInfo.count)))]),s("a",{staticClass:"txt",attrs:{href:"#"}},[t._v("总销量")])]),s("div",{staticClass:"all-goods"},[s("div",{staticClass:"num"},[t._v(t._s(t.shopInfo.allGoods))]),s("a",{staticClass:"txt",attrs:{href:"#"}},[t._v("全部宝贝")])])]),s("div",{staticClass:"shop-right"},[s("table",t._l(t.shopInfo.score,(function(e,i){return s("tr",{key:i},[s("td",[t._v(t._s(e.name))]),s("td",{class:e.score>=5?"high-score":"low-score"},[t._v(" "+t._s(e.score)+" ")]),s("td",{class:e.score>=5?"high-better":"low-better"},[t._v(" "+t._s(t.isBetter(e.isBetter))+" ")])])})),0)])]),t._m(0)])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bottom"},[s("a",{staticClass:"bottom-btn",attrs:{href:"#"}},[t._v("进店逛逛")])])}],C={name:"DetailShopInfo",computed:{isBetter:function(){return function(t){return t?"高":"低"}}},props:{shopInfo:{type:Object,default:function(){return{}}}},updated:function(){},filters:{simple:function(t){return parseInt(t/1e4)+"万"}}},k=C,w=(s("52e5"),Object(f["a"])(k,I,g,!1,null,"03b553d2",null)),y=w.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-info"},[s("div",{staticClass:"desc-container"},[s("div",{staticClass:"top"}),s("p",{staticClass:"desc"},[t._v(t._s(t.detailInfo.desc))]),s("div",{staticClass:"bottom"})]),s("div",{staticClass:"key"},[t._v(t._s(t.detailInfo.key))]),s("ul",t._l(t.detailInfo.list,(function(e,i){return s("li",{key:i},[s("img",{attrs:{src:e,alt:""},on:{load:t.imgLoad}})])})),0)])},x=[],D={name:"DetailInfo",props:{detailInfo:{type:Object,default:function(){return{}}}},methods:{imgLoad:function(){this.$emit("detailImgLoad")}}},E=D,O=(s("cb71"),Object(f["a"])(E,$,x,!1,null,"63f6a3c5",null)),j=O.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-params-info"},[s("table",{staticClass:"rule"},t._l(t.detailParamsInfo.rule,(function(e,i){return s("tr",{key:i},t._l(e,(function(e,i){return s("td",{key:i},[t._v(t._s(e))])})),0)})),0),s("table",{staticClass:"info"},t._l(t.detailParamsInfo.info,(function(e,i){return s("tr",{key:i},t._l(e,(function(e,i){return s("td",{key:i,class:{value:"value"===i}},[t._v(" "+t._s(e)+" ")])})),0)})),0)])},B=[],S={name:"DetailParamsInfo",props:{detailParamsInfo:{type:Object,default:function(){return{}}}}},P=S,L=(s("1faf"),Object(f["a"])(P,T,B,!1,null,null,null)),Y=L.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav-bar",[i("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.backClick},slot:"left"},[i("img",{attrs:{src:s("7a74"),alt:""}})]),i("div",{attrs:{slot:"center"},slot:"center"},[i("div",{staticClass:"titles"},t._l(t.titles,(function(e,s){return i("div",{key:s,staticClass:"title",class:{active:t.currentIndex===s},on:{click:function(e){return t.titleClick(s)}}},[t._v(" "+t._s(e)+" ")])})),0)])])},G=[],A=s("a7ac"),M={name:"DetailNavBar",data:function(){return{currentIndex:0}},props:{titles:{type:Array,default:function(){return["商品","参数","评论","推荐"]}}},methods:{backClick:function(){this.$router.back()},titleClick:function(t){this.currentIndex=t,this.$emit("titleClick",t)}},components:{NavBar:A["a"]}},R=M,J=(s("4073"),Object(f["a"])(R,N,G,!1,null,"79b3c40d",null)),F=J.exports,U=s("9fb0"),q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:0!=Object.keys(t.commentInfo).length,expression:"Object.keys(commentInfo).length != 0"}],staticClass:"detail-comment-info"},[t._m(0),s("div",{staticClass:"main"},[s("div",{staticClass:"user"},[s("div",{staticClass:"user-img"},[s("img",{attrs:{src:t.commentInfo.user&&t.commentInfo.user.avatar,alt:""}})]),s("div",{staticClass:"user-name"},[t._v(" "+t._s(t.commentInfo.user&&t.commentInfo.user.uname)+" ")])]),s("div",{staticClass:"content"},[s("p",[t._v(t._s(t.commentInfo.content))])]),s("div",{staticClass:"info"},[s("span",{staticClass:"time"},[t._v(t._s(t._f("formathTime")(t.commentInfo.time)))]),s("span",{staticClass:"style"},[t._v(t._s(t.commentInfo.style))])])]),s("div",{staticClass:"bottom"},t._l(t.commentInfo.images,(function(t,e){return s("img",{key:e,attrs:{src:t,alt:""}})})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:0===Object.keys(t.commentInfo).length,expression:"Object.keys(commentInfo).length === 0"}],staticStyle:{"line-height":"40px","padding-left":"30px",color:"var(--color-high-text)"}},[t._v(" 暂无评价 ")])])},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-title"},[t._v("用户评价")]),s("div",{staticClass:"header-more"},[t._v("更多 "),s("i",{staticClass:"icon"})])])}],H=(s("99af"),{name:"DetailCommentInfo",props:{commentInfo:{type:Object,default:function(){return{}}}},updated:function(){},filters:{formathTime:function(t){var e=new Date(1e3*t),s=e.getFullYear(),i=e.getMonth()+1,n=e.getDate();return"".concat(s,"-").concat(i<10?"0"+i:i,"-").concat(n<10?"0"+n:n)}}}),K=H,Q=(s("e827"),Object(f["a"])(K,q,z,!1,null,"5c73f93b",null)),V=Q.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-recommend-info"},[s("goods-list",{attrs:{goodsList:t.recommendInfo}})],1)},X=[],Z=s("9287"),tt=s("1eb0"),et={components:{GoodsListItem:tt["a"],GoodsList:Z["a"]},name:"DetailRecommendInfo",props:{recommendInfo:{type:Array,default:function(){return[]}}},mounted:function(){}},st=et,it=Object(f["a"])(st,W,X,!1,null,"8e7f558c",null),nt=it.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-bottom-bar"},[t._m(0),t._m(1),t._m(2),s("div",{staticClass:"txt cart",on:{click:t.addCart}},[t._v("添加购物车")]),s("div",{staticClass:"txt purchase"},[t._v("购买")])])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon service"},[s("i"),s("div",[t._v("客服")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon shop"},[s("i"),s("div",[t._v("店铺")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon afav"},[s("i"),s("div",[t._v("收藏")])])}],ct={name:"DetailBottomBar",methods:{addCart:function(){this.$emit("addCart")}}},rt=ct,lt=(s("c022"),Object(f["a"])(rt,at,ot,!1,null,"460d58de",null)),ft=lt.exports,ut=s("eaf8"),dt=s("fdd6"),mt={data:function(){return{isBackTopShow:!1}},components:{BackTop:dt["a"]},methods:{backTop:function(){this.$refs.scroll.scrollTo(0,0,300)},listerBackTop:function(t){this.isBackTopShow=-t.y>1e3}}};function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s("b0c0");var vt=s("1bab");function pt(t){var e=Object(vt["a"])({url:"/detail",params:{iid:t}});return e}function _t(){var t=Object(vt["a"])({url:"/recommend"});return t}var bt=function t(e,s,i){ht(this,t),this.title=s.title,this.discount=s.discountDesc,this.oldPrice=s.lowPrice,this.newPrice=s.lowNowPrice,this.columns=e,this.service=i,this.desc=s.desc,this.iid=s.iid},It=function t(e,s){ht(this,t),this.count=e.cSells,this.allGoods=e.cGoods,this.name=e.name,this.logo=e.shopLogo,this.score=s},gt=function t(e){ht(this,t),this.content=e.content,this.user=e.user,this.style=e.style,this.time=e.created,this.images=e.images},Ct={name:"Detail",components:{Scroll:U["a"],DetailNavBar:F,DetailSwiper:d,DetailBaseInfo:b,DetailShopInfo:y,DetailInfo:j,DetailParamsInfo:Y,DetailCommentInfo:V,DetailRecommendInfo:nt,DetailBottomBar:ft},mixins:[mt],data:function(){return{iid:0,res:null,topImages:[],goods:{},business:{},detailInfo:{desc:"",key:"",list:[]},itemParams:{info:[],rule:[]},commentInfo:{},recommendInfo:[],themesY:[],titleDebunce:null,scrollDebunce:null,isScroll:!0}},created:function(){var t=this;this.iid=this.$route.params.iid,pt(this.iid).then((function(e){t.res=e,t.topImages=e.result.itemInfo.topImages;var s=e.result;console.log(s),t.goods=new bt(s.columns,s.itemInfo,s.shopInfo.services),t.business=new It(s.shopInfo,s.shopInfo.score),t.detailInfo.desc=s.detailInfo.desc,t.detailInfo.key=s.detailInfo.detailImage[0].key,t.detailInfo.list=s.detailInfo.detailImage[0].list,t.itemParams.info=s.itemParams.info.set,t.itemParams.rule=s.itemParams.rule.tables[0],s.rate.list&&(t.commentInfo=new gt(s.rate.list[0])),_t().then((function(e){t.recommendInfo=e.list})).catch((function(t){throw t})),t.$bus.$emit("enterDetail")})).catch((function(t){throw t}))},mounted:function(){var t=this;this.callback=Object(ut["a"])(this.$refs.scroll.scrollRefresh,500),this.titleDebunce=Object(ut["a"])((function(){t.themesY=[],t.themesY.push(0),t.$refs.params&&t.themesY.push(t.$refs.params.$el.offsetTop),t.$refs.comment&&t.themesY.push(t.$refs.comment.$el.offsetTop),t.$refs.recommend&&t.themesY.push(t.$refs.recommend.$el.offsetTop)}),300),this.scrollDebunce=Object(ut["a"])((function(e){t.isScroll&&t.themesY.forEach((function(s,i){Math.abs(e[0].y)>s&&t.$refs.titleBar&&(t.$refs.titleBar.currentIndex=i)}))}),10)},methods:{detailImgLoad:function(){this.callback&&this.callback(),this.titleDebunce&&this.titleDebunce()},titleClick:function(t){var e=this,s=300;this.$refs.scroll.scrollTo(0,-this.themesY[t],s),this.isScroll=!1,setTimeout((function(){e.isScroll=!0}),s+50)},scrolling:function(t){this.scrollDebunce(t),this.listerBackTop(t)},addToCart:function(){var t={};t.desc=this.goods.desc,t.img=this.topImages[0],t.title=this.goods.title,t.price=this.goods.oldPrice,t.iid=this.goods.iid,t.checked=!1,this.$store.dispatch("addCart",t)}},destroyed:function(){this.$bus.$emit("leaveDetail")}},kt=Ct,wt=(s("0260"),Object(f["a"])(kt,i,n,!1,null,"ad67ec28",null));e["default"]=wt.exports},"77e1":function(t,e,s){"use strict";s("c20a")},"7a74":function(t,e,s){t.exports=s.p+"img/back.26df9036.svg"},9222:function(t,e,s){},"99af":function(t,e,s){"use strict";var i=s("23e7"),n=s("d039"),a=s("e8b5"),o=s("861d"),c=s("7b0b"),r=s("50c4"),l=s("8418"),f=s("65f0"),u=s("1dde"),d=s("b622"),m=s("2d00"),h=d("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",_=m>=51||!n((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=u("concat"),I=function(t){if(!o(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},g=!_||!b;i({target:"Array",proto:!0,forced:g},{concat:function(t){var e,s,i,n,a,o=c(this),u=f(o,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(a=-1===e?o:arguments[e],I(a)){if(n=r(a.length),d+n>v)throw TypeError(p);for(s=0;s<n;s++,d++)s in a&&l(u,d,a[s])}else{if(d>=v)throw TypeError(p);l(u,d++,a)}return u.length=d,u}})},a640:function(t,e,s){"use strict";var i=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&i((function(){s.call(null,e||function(){throw 1},1)}))}},aeaf:function(t,e,s){},c022:function(t,e,s){"use strict";s("ef23")},c20a:function(t,e,s){},cb71:function(t,e,s){"use strict";s("6663")},e827:function(t,e,s){"use strict";s("9222")},ef23:function(t,e,s){},ff40:function(t,e,s){}}]);
//# sourceMappingURL=chunk-f3570d12.4d42dc7e.js.map